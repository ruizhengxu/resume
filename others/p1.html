<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            background: #ffe6f2;
            margin: 0;
            overflow: hidden;
            cursor: default;
        }
        
        .flower {
            position: absolute;
            transition: transform 0.5s;
            animation: bloom 1s ease-out;
        }

        .petals {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes bloom {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .hidden-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: 1s;
            font-family: cursive;
            color: #ff3366;
        }

        .heart-particle {
            position: absolute;
            pointer-events: none;
            font-size: 20px;
            animation: float 2s ease-out forwards;
        }

        #resetButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.8);
            border: 1px solid #ff3366;
            border-radius: 50%;
            color: #ff3366;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #resetButton:hover {
            background-color: #ff3366;
            color: white;
            transform: scale(1.1) rotate(90deg);
        }

        #resetButton:active {
            transform: scale(0.9) rotate(180deg);
        }

        /* Add rotation animation */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .spinning {
            animation: spin 0.5s linear;
        }
    </style>
</head>
<body>
    <div id="garden"></div>
    <h1 class="hidden-message" id="secretMessage">Happy Valentine's Day! ðŸ’–</h1>
    <button id="resetButton" title="Reset Garden">ðŸ”„</button>

    <script>
        //
        //
        // Drawing flowers and hearts
        //
        //
        let isDrawing = false;
        let currentX = 0;
        let currentY = 0;
        let drawInterval;

        function createFlower(x, y) {
            const flower = document.createElement('div');
            flower.className = 'flower';
            flower.style.left = x + 'px';
            flower.style.top = y + 'px';
            
            // Random flower parameters
            const scale = Math.random() * 0.5 + 0.5;
            const rotation = Math.random() * 360;
            
            flower.innerHTML = `
                <div class="petals" style="
                    transform: scale(${scale}) rotate(${rotation}deg);
                    color: ${colors[Math.floor(Math.random()*colors.length)]};
                    font-size: ${Math.random()*30 + 20}px;
                ">
                    ${flowerTemplates[Math.floor(Math.random()*flowerTemplates.length)]}
                </div>
            `;
            
            document.getElementById('garden').appendChild(flower);

            // Remove flowers after 5 seconds for performance
            setTimeout(() => flower.remove(), 5000);
        }

        function createHearts(x, y) {
            for(let i = 0; i < 2; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart-particle';
                heart.style.left = x + Math.random() * 30 - 15 + 'px';
                heart.style.top = y + Math.random() * 30 - 15 + 'px';
                heart.innerHTML = 'ðŸ’–';
                heart.style.animationDelay = Math.random() * 0.5 + 's';
                
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 2000);
            }
        }

        // Event handlers for desktop
        document.addEventListener('mousedown', (e) => {
            if (e.button !== 0 || e.target === resetButton) return; // Ignore right clicks and reset button
            isDrawing = true;
            currentX = e.clientX;
            currentY = e.clientY;
            startDrawing();
        });

        document.addEventListener('mousemove', (e) => {
            if(isDrawing) {
                currentX = e.clientX;
                currentY = e.clientY;
            }
        });

        document.addEventListener('mouseup', () => {
            isDrawing = false;
            stopDrawing();
        });

        // Event handlers for mobile
        document.addEventListener('touchstart', (e) => {
            e.preventDefault();
            isDrawing = true;
            currentX = e.touches[0].clientX;
            currentY = e.touches[0].clientY;
            startDrawing();
        });

        document.addEventListener('touchmove', (e) => {
            if(isDrawing) {
                currentX = e.touches[0].clientX;
                currentY = e.touches[0].clientY;
            }
        });

        document.addEventListener('touchend', () => {
            isDrawing = false;
            stopDrawing();
        });

        function startDrawing() {
            // Initial creation
            createFlower(currentX - 25, currentY - 25);
            createHearts(currentX, currentY);
            
            // Create continuously while holding
            drawInterval = setInterval(() => {
                if(isDrawing) {
                    createFlower(currentX - 25, currentY - 25);
                    createHearts(currentX, currentY);
                    
                    // Random chance for special heart
                    if(Math.random() < 0.3) {
                        const specialHeart = document.createElement('div');
                        specialHeart.innerHTML = 'ðŸ’';
                        specialHeart.style.position = 'absolute';
                        specialHeart.style.left = currentX + 'px';
                        specialHeart.style.top = currentY + 'px';
                        specialHeart.style.animation = 'float 3s ease-out';
                        document.body.appendChild(specialHeart);
                        setTimeout(() => specialHeart.remove(), 3000);
                    }
                }
            }, 200); // Adjust interval (milliseconds) for creation speed
        }

        function stopDrawing() {
            clearInterval(drawInterval);
        }

        // 
        // 
        // Flower colors and templates
        //
        //
        const colors = ['#ff3366', '#ff99bb', '#ff66a3', '#ff1493'];
        const flowerTemplates = ['ðŸŒ¸', 'ðŸŒº', 'ðŸŒ·', 'ðŸŒ¹', 'ðŸ’'];
        
        function createFlower(x, y) {
            const flower = document.createElement('div');
            flower.className = 'flower';
            flower.style.left = x + 'px';
            flower.style.top = y + 'px';
            
            const petals = document.createElement('div');
            petals.className = 'petals';
            petals.innerHTML = flowerTemplates[Math.floor(Math.random()*flowerTemplates.length)];
            petals.style.fontSize = Math.random()*30 + 20 + 'px';
            petals.style.color = colors[Math.floor(Math.random()*colors.length)];
            
            flower.appendChild(petals);
            document.getElementById('garden').appendChild(flower);

            // Show secret message after 5 flowers
            if(document.querySelectorAll('.flower').length === 5) {
                document.getElementById('secretMessage').style.opacity = 1;
            }
        }

        document.addEventListener('click', (e) => {
            createFlower(e.clientX - 25, e.clientY - 25);
            
            // Add floating hearts
            for(let i = 0; i < 3; i++) {
                const heart = document.createElement('div');
                heart.style.position = 'absolute';
                heart.style.left = e.pageX + 'px';
                heart.style.top = e.pageY + 'px';
                heart.innerHTML = 'ðŸ’–';
                heart.style.animation = `float ${Math.random()*2 + 1}s`;
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 2000);
            }
        });

        // Add reset functionality
        const resetButton = document.getElementById('resetButton');
        
        resetButton.addEventListener('click', (e) => {
            e.stopPropagation(); // Prevent event bubbling
            
            // Add spinning animation
            resetButton.classList.add('spinning');
            
            // Clear all flowers
            const garden = document.getElementById('garden');
            while(garden.firstChild) {
                garden.removeChild(garden.firstChild);
            }
            
            // Clear all floating hearts
            const hearts = document.querySelectorAll('.heart-particle');
            hearts.forEach(heart => heart.remove());
            
            // Reset hidden message
            document.getElementById('secretMessage').style.opacity = 0;
            
            // Remove spinning class after animation
            setTimeout(() => {
                resetButton.classList.remove('spinning');
            }, 500);
        });
    </script>
</body>
</html>